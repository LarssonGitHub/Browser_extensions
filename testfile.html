<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        p {
            background: red;
        }

        h1 {
            background: green;
        }

        .hidden {
            display: none;
        }

        #dev-info {
            position: fixed;
            right: 0;
            top: 0;
            background-color: lightgrey;
            padding: 1rem;
        }
    </style>
</head>

<body>
    <!-- TODO create logic to hide this once mouse is over the div, and logic to disable it.
    User will need to have access to whole browser window -->
    <div id="dev-info" class="hidden">
        <div>
            <p id="dev-status">DEVELOPER MODE IS ON! Turn off caps lock, or disable extension</p>
        </div>
        <div>
            <!-- TODO create logic to hide or show this -->
            <p>Press and hold ctrl + one of the dedicated keys.</p>
            <div>
                <ul>
                    <li>F logs F to console!</li>
                    <li>X logs X to console!</li>
                </ul>
            </div>
        </div>

    </div>



    <p>P tag 1</p>
    <span>span</span>
    <h1>h1</h1>
    <p>P tag 2</p>
    <script>
        const devInfo = document.getElementById("dev-info")
        const inspectorColor = "lightgreen"
        // Whitelisted keys, each one representing a task
        const assignedTaskKeys = ["f", "x"]
        let taskKey = "";
        let devModeOn = undefined;

        const editDevInfoVisibility = (oldClass, newClass) => {
            devInfo.classList.replace(newClass, oldClass)
        }

        document.addEventListener("mousemove", (event) => {
            if (!(event.shiftKey && devModeOn)) return;
            let target = event.target;
            target.style.background = inspectorColor;
        });

        document.addEventListener("mouseout", (event) => {
            let target = event.target;
            target.style.background = '';
        });

        document.addEventListener("click", (event) => {
            if (!(event.shiftKey && devModeOn)) return;
            switch (taskKey) {
                case "f":
                    console.log("F is activated ")
                    break;
                case "x":
                    console.log("x is activated ");
                    break;
                default:
                    console.log("No task called")
                    return;
            }
        });

        document.addEventListener("keydown", (event) => {
            if (event.repeat) {
                return
            }
            devModeOn = event.getModifierState('CapsLock');
            if (devModeOn && devInfo.classList.contains("hidden")) {
                editDevInfoVisibility("shown", "hidden");
            }
            if (!devModeOn && devInfo.classList.contains("shown")) {
                editDevInfoVisibility("hidden", "shown");
            }
            if (!(assignedTaskKeys.includes(event.key.toLowerCase()) && event.shiftKey && devModeOn)) return;
            taskKey = event.key.toLowerCase();
        });

        document.addEventListener("keyup", (event) => {
            if (event.repeat) {
                return
            }
            taskKey = "";
        });
    </script>



    <!-- Code which may be used later -->
    <!-- 
// get background
// const originalStyles = window.getComputedStyle(event.target, "");
// const originalBackground = originalStyles.getPropertyValue("background");
// event.target.style.backgroundColor = originalBackground;

// create a class for the mouseover.
// var style = document.createElement('style');
// style.type = 'text/css';
// style.innerHTML = '.superSecretClass { background: blue; }';
// document.getElementsByTagName('head')[0].appendChild(style); 

// document.onkeydown = function (e) {
//   [].forEach.call(hiddenElements, function (el) {
//     el.classList.remove('hidden');
//   });
//   info.classList.add('hidden');
//   key.innerHTML = e.key;
//   code.innerHTML = e.code;
//   keyCode.innerHTML = e.keyCode;
//   keyCodeLarge.innerHTML = e.keyCode;
// };
https://daily-dev-tips.com/posts/javascript-detecting-which-key-is-pressed/#:~:text=Detecting%20keys%20in%20JavaScript&text=document.,log(e)%3B%20%7D%3B
-->
</body>

</html>